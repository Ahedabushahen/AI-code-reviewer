<div class="panel">
  <div *ngIf="loading" class="loading">
    Reviewingâ€¦ (mock result for now)
  </div>

  <div *ngIf="!loading && !result" class="empty">
    No review yet. Paste code and click <b>Review</b>.
  </div>

  <div *ngIf="!loading && result" class="result">
    <div class="top">
      <div>
        <h2>Review Result</h2>
        <p class="summary">{{ result.summary }}</p>
      </div>

      <div class="score">
        <div class="score-num">{{ result.score }}/10</div>
        <div class="score-label">Score</div>
      </div>
    </div>

    <div class="grid">
      <section class="box">
        <h3>Bugs</h3>
        <div *ngIf="result.bugs.length === 0" class="none">No bugs found.</div>
        <ul>
          <li *ngFor="let item of result.bugs">
            <span class="sev" [attr.data-sev]="item.severity">{{ item.severity }}</span>
            <b>{{ item.title }}</b>
            <div class="desc">{{ item.description }}</div>
          </li>
        </ul>
      </section>

      <section class="box">
        <h3>Security</h3>
        <div *ngIf="result.security.length === 0" class="none">No security issues found.</div>
        <ul>
          <li *ngFor="let item of result.security">
            <span class="sev" [attr.data-sev]="item.severity">{{ item.severity }}</span>
            <b>{{ item.title }}</b>
            <div class="desc">{{ item.description }}</div>
          </li>
        </ul>
      </section>

      <section class="box">
        <h3>Performance</h3>
        <div *ngIf="result.performance.length === 0" class="none">No performance issues found.</div>
        <ul>
          <li *ngFor="let item of result.performance">
            <span class="sev" [attr.data-sev]="item.severity">{{ item.severity }}</span>
            <b>{{ item.title }}</b>
            <div class="desc">{{ item.description }}</div>
          </li>
        </ul>
      </section>

      <section class="box">
        <h3>Best Practices</h3>
        <div *ngIf="result.best_practices.length === 0" class="none">No best-practice notes.</div>
        <ul>
          <li *ngFor="let item of result.best_practices">
            <span class="sev" [attr.data-sev]="item.severity">{{ item.severity }}</span>
            <b>{{ item.title }}</b>
            <div class="desc">{{ item.description }}</div>
          </li>
        </ul>
      </section>
    </div>
  </div>
</div>
